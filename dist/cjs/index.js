/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={"./src/Bridge/ConfigTypes.ts":(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.SupportContentType = exports.FileType = void 0;\r\nvar FileType;\r\n(function (FileType) {\r\n    FileType["Audio"] = "audio/*";\r\n    FileType["Video"] = "video/*";\r\n    FileType["HTML"] = "text/html";\r\n    FileType["Txt"] = "text/plain";\r\n    FileType["Image"] = "image/*";\r\n    FileType["Csv"] = ".csv";\r\n    FileType["Pdf"] = "application/pdf";\r\n    FileType["Word"] = "application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/msword\\uFF0Capplication/vnd.openxmlformats-officedocument.wordprocessingml.document";\r\n    FileType["All"] = "*";\r\n})(FileType = exports.FileType || (exports.FileType = {}));\r\nvar SupportContentType;\r\n(function (SupportContentType) {\r\n    SupportContentType["JSON"] = "application/json";\r\n    SupportContentType["TEXT"] = "text/plain";\r\n})(SupportContentType = exports.SupportContentType || (exports.SupportContentType = {}));\r\n// export interface BasePlatformBridgeAble extends PlatformBridgeAble { }\r\n// export interface WebBridgeAble extends BasePlatformBridgeAble { }\r\n// export interface NodejsBridgeAble extends BasePlatformBridgeAble { }\r\n// export interface MobilePlatformBridgeAble extends PlatformBridgeAble { }\r\n// export interface MobileWebBridgeAble extends MobilePlatformBridgeAble { }\r\n// export interface MobileNodejsBridgeAble extends MobilePlatformBridgeAble { }\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/ConfigTypes.ts?')},"./src/Bridge/Difference/index.ts":()=>{eval("// import './Fetch/index'\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Difference/index.ts?")},"./src/Bridge/Index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Equipment_1 = __webpack_require__(/*! ../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst Mobile_1 = __webpack_require__(/*! ./Platform/Node/Mobile */ "./src/Bridge/Platform/Node/Mobile.ts");\r\nconst PC_1 = __webpack_require__(/*! ./Platform/Node/PC */ "./src/Bridge/Platform/Node/PC.ts");\r\nconst Mobile_2 = __webpack_require__(/*! ./Platform/Web/Mobile */ "./src/Bridge/Platform/Web/Mobile.ts");\r\nconst PC_2 = __webpack_require__(/*! ./Platform/Web/PC */ "./src/Bridge/Platform/Web/PC.ts");\r\n__webpack_require__(/*! ./Difference/index */ "./src/Bridge/Difference/index.ts");\r\nconst runConfig = (0, Equipment_1.PlatformSelect)({\r\n    web: { pc: PC_2.PCWebBridge, mobile: Mobile_2.MobileWebBridge },\r\n    node: { pc: PC_1.PCNodejsBridge, mobile: Mobile_1.MobileNodejsBridge },\r\n    electron: {},\r\n});\r\nconst Target = runConfig[Equipment_1.isElectron ? "electron" : Equipment_1.isPC ? "pc" : "mobile"];\r\nconst Platform = new Target();\r\nexports["default"] = Platform;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Index.ts?')},"./src/Bridge/Platform/BasePlatform.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.PlatformBridge = void 0;\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst QRCode = __webpack_require__(/*! qrcode-generator */ "qrcode-generator");\r\nconst axios_1 = __webpack_require__(/*! axios */ "axios");\r\nconst Hardware_1 = __webpack_require__(/*! ./Hardware */ "./src/Bridge/Platform/Hardware.ts");\r\nclass PlatformBridge extends Hardware_1.HardwareBase {\r\n    createQrCode(context, option) {\r\n        return new rxjs_1.Observable((sub) => {\r\n            let width = option?.SideLength ?? 200;\r\n            let margin = 2;\r\n            const qrcode = QRCode(option?.type || 4, option?.Level || "H");\r\n            qrcode.addData((context ?? ""));\r\n            qrcode.make();\r\n            const moduleCount = qrcode.getModuleCount();\r\n            const cellSize = (width - margin * 2) / moduleCount;\r\n            const base64 = qrcode.createDataURL(cellSize, margin);\r\n            // const base64 = qrcode.createDataURL(cellSize, margin).replace(\'data:image/gif;base64\', \'data:image/png;base64\');\r\n            sub.next(new ObjectAble_1.StringObject(base64));\r\n            sub.complete();\r\n            return {\r\n                unsubscribe: () => sub.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n    loadRunInfo() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    runCommand(command, option) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            let result = null;\r\n            let error = null;\r\n            let status = false;\r\n            try {\r\n                result = eval(command?.toString());\r\n                status = true;\r\n            }\r\n            catch (_error) {\r\n                error = _error;\r\n                status = false;\r\n            }\r\n            finally {\r\n                subscriber.next({\r\n                    result,\r\n                    status,\r\n                    error,\r\n                    command\r\n                });\r\n                subscriber.complete();\r\n            }\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe()\r\n            };\r\n        });\r\n    }\r\n    open(url, option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    loadFile(url, option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    fetch(req) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            axios_1.default.request(req)\r\n                .then((response) => {\r\n                let error = null;\r\n                let data = null;\r\n                const content = {};\r\n                if (response.status !== 200) {\r\n                    error = new Error(`${response.status} ${response.statusText}`);\r\n                }\r\n                else {\r\n                    data = response.data;\r\n                }\r\n                content.data = data;\r\n                content.error = error;\r\n                content.response = response;\r\n                subscriber.next(new ObjectAble_1.ObjectTarget(content));\r\n                subscriber.complete();\r\n            })\r\n                .catch((error) => {\r\n                subscriber.error(error);\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    subscriber.unsubscribe();\r\n                }\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.PlatformBridge = PlatformBridge;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Platform/BasePlatform.ts?')},"./src/Bridge/Platform/Hardware.ts":(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.HardwareBase = void 0;\r\nclass HardwareBase {\r\n    takePhoto(option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    recordVideo(option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    getPhotos() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    getCurrentPosition() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    watchPosition(option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    closePosition() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    recordAudio() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    stopAudio() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    getFile(option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    startVibrator(option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    stopVibrator() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    getSystemInfo() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    getVolume() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    setVolume(volume) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    getBrightness() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    setBrightness(brightness) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    scanBluetooth() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    connectBluetooth(device) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    bluetoothSendData(data) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    bluetoothReceiveData(device) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    bluetoothClose(device) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    speechInit(option) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    speak(text) {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    stopSpeak() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n    clearSpeech() {\r\n        throw new Error("Method not implemented.");\r\n    }\r\n}\r\nexports.HardwareBase = HardwareBase;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Platform/Hardware.ts?')},"./src/Bridge/Platform/Node/Mobile.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.MobileNodejsBridge = void 0;\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../../../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst BasePlatform_1 = __webpack_require__(/*! ../BasePlatform */ "./src/Bridge/Platform/BasePlatform.ts");\r\nclass MobileNodejsBridge extends BasePlatform_1.PlatformBridge {\r\n    open(url) {\r\n        return (0, rxjs_1.of)(new ObjectAble_1.BooleanObject(false));\r\n    }\r\n    loadFile(url, option) {\r\n        return (0, rxjs_1.of)(new ObjectAble_1.ObjectTarget({\r\n            total: 0,\r\n            loaded: 0,\r\n            data: new ArrayBuffer(0),\r\n            finish: true,\r\n            file: null,\r\n        }));\r\n    }\r\n}\r\nexports.MobileNodejsBridge = MobileNodejsBridge;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Platform/Node/Mobile.ts?')},"./src/Bridge/Platform/Node/PC.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.PCNodejsBridge = void 0;\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../../../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst fs = __webpack_require__(/*! fs */ "fs");\r\nconst BasePlatform_1 = __webpack_require__(/*! ../BasePlatform */ "./src/Bridge/Platform/BasePlatform.ts");\r\nconst nodeOpen = __webpack_require__(/*! open */ "open");\r\nconst process = __webpack_require__(/*! child_process */ "child_process");\r\n/*** */\r\nclass PCNodejsBridge extends BasePlatform_1.PlatformBridge {\r\n    open(url) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            nodeOpen(url, { wait: true }).then($1 => {\r\n                debugger;\r\n                subscriber.next(new ObjectAble_1.BooleanObject(true));\r\n                subscriber.complete();\r\n            });\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n    loadFile(url, option) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            const stat = fs.lstatSync(url);\r\n            const subs = [];\r\n            if (!fs.existsSync(url)) {\r\n                subscriber.error(new Error(`${url.toString()} is not exists`));\r\n            }\r\n            else if (stat.isDirectory()) {\r\n                subscriber.error(new Error(`${url.toString()} is not file`));\r\n            }\r\n            else {\r\n                const rs = fs.createReadStream(url);\r\n                let data = Buffer.of();\r\n                const sub1 = (0, rxjs_1.fromEvent)(rs, \'data\').subscribe({\r\n                    next: (chunk) => {\r\n                        data = Buffer.concat([data, chunk]);\r\n                        subscriber.next(new ObjectAble_1.ObjectTarget({\r\n                            total: stat.size,\r\n                            loaded: data.byteLength,\r\n                            data: data,\r\n                            finish: false,\r\n                            file: undefined,\r\n                        }));\r\n                    },\r\n                    complete: () => { },\r\n                    error: (err) => { }\r\n                });\r\n                const sub2 = (0, rxjs_1.fromEvent)(rs, \'end\').subscribe({\r\n                    next: () => {\r\n                        subscriber.complete();\r\n                    },\r\n                });\r\n                subs.push(sub1);\r\n                subs.push(sub2);\r\n            }\r\n            return {\r\n                unsubscribe: () => {\r\n                    subscriber.unsubscribe();\r\n                    subs.forEach(($1) => $1.unsubscribe());\r\n                },\r\n            };\r\n        });\r\n    }\r\n    /**\r\n     * = "#javascript#console.log(\'hello world\')" :default\r\n     *  = "#shell#echo hello world"\r\n     * @param command\r\n     * @param option\r\n     * @returns\r\n     */\r\n    runCommand(command, option) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            const runJs = () => {\r\n                let result = undefined;\r\n                let status = false;\r\n                let error = undefined;\r\n                try {\r\n                    result = eval(command?.toString());\r\n                    status = true;\r\n                }\r\n                catch (err) {\r\n                    result = undefined;\r\n                    status = false;\r\n                    error = err;\r\n                }\r\n                return {\r\n                    status,\r\n                    result,\r\n                    command,\r\n                    error,\r\n                };\r\n            };\r\n            if (command.startsWith(\'#shell#\')) {\r\n                process.exec(command, function (error, stdout, stderr) {\r\n                    subscriber.next({\r\n                        result: stdout,\r\n                        command,\r\n                        status: error != null,\r\n                        error,\r\n                    });\r\n                    subscriber.complete();\r\n                });\r\n            }\r\n            else if (command.startsWith(\'#javascript#\')) {\r\n                subscriber.next(runJs());\r\n                subscriber.complete();\r\n            }\r\n            else {\r\n                subscriber.next(runJs());\r\n                subscriber.complete();\r\n            }\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.PCNodejsBridge = PCNodejsBridge;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Platform/Node/PC.ts?')},"./src/Bridge/Platform/Web/Mobile.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.MobileWebBridge = void 0;\r\nconst WebBase_1 = __webpack_require__(/*! ./WebBase */ "./src/Bridge/Platform/Web/WebBase.ts");\r\nclass MobileWebBridge extends WebBase_1.WebBridge {\r\n}\r\nexports.MobileWebBridge = MobileWebBridge;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Platform/Web/Mobile.ts?')},"./src/Bridge/Platform/Web/PC.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.PCWebBridge = void 0;\r\nconst WebBase_1 = __webpack_require__(/*! ./WebBase */ "./src/Bridge/Platform/Web/WebBase.ts");\r\nclass PCWebBridge extends WebBase_1.WebBridge {\r\n}\r\nexports.PCWebBridge = PCWebBridge;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Platform/Web/PC.ts?')},"./src/Bridge/Platform/Web/WebBase.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.WebBridge = void 0;\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../../../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst BasePlatform_1 = __webpack_require__(/*! ../BasePlatform */ "./src/Bridge/Platform/BasePlatform.ts");\r\nclass WebBridge extends BasePlatform_1.PlatformBridge {\r\n    open(url) {\r\n        const result = window.open(url, "__blank");\r\n        return (0, rxjs_1.of)(new ObjectAble_1.BooleanObject(result !== null));\r\n    }\r\n    /**\r\n     * 打开文件路径\r\n     * @param url\r\n     * @param option\r\n     * @returns\r\n     */\r\n    loadFile(url, option) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            const input = document.createElement("input");\r\n            //input.value = url.toString();\r\n            input.type = "file";\r\n            input.id = "_temp_input_select";\r\n            input.accept = option?.type || "*";\r\n            input.style.display = "none";\r\n            document.body.append(input);\r\n            input.addEventListener("change", (_) => {\r\n                const reader = new FileReader();\r\n                const file = input.files[0];\r\n                reader.onprogress = (info) => {\r\n                    const { total, loaded } = info;\r\n                    const data = reader.result;\r\n                    subscriber.next(new ObjectAble_1.ObjectTarget({\r\n                        total,\r\n                        loaded,\r\n                        data: data,\r\n                        finish: false,\r\n                        file\r\n                    }));\r\n                };\r\n                reader.onload = (info) => {\r\n                    const data = reader.result;\r\n                    const { total, loaded } = info;\r\n                    subscriber.next(new ObjectAble_1.ObjectTarget({ total, loaded, data, finish: true, file }));\r\n                    subscriber.complete();\r\n                };\r\n                reader.onerror = (ev) => {\r\n                    subscriber.error(ev);\r\n                };\r\n                reader.readAsArrayBuffer(file);\r\n            });\r\n            input.click();\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.WebBridge = WebBridge;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Bridge/Platform/Web/WebBase.ts?')},"./src/Configs/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.DefaultRunConfig = void 0;\r\nconst ConfigTypes_1 = __webpack_require__(/*! ../Bridge/ConfigTypes */ \"./src/Bridge/ConfigTypes.ts\");\r\n/**\r\n * 默认的配置\r\n */\r\nexports.DefaultRunConfig = {\r\n    development: true,\r\n    environment: {},\r\n    workConfig: {\r\n        QRCodeWork: {\r\n            type: 4,\r\n            Level: \"H\",\r\n            SideLength: 100,\r\n        },\r\n        RunCommandWork: {\r\n            input: '$I$',\r\n        },\r\n        LoadFileWork: {\r\n            type: ConfigTypes_1.FileType.All\r\n        },\r\n        FetchWork: {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n            },\r\n        },\r\n    },\r\n};\r\n\n\n//# sourceURL=webpack://command-flow/./src/Configs/index.ts?")},"./src/Context.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.Context = void 0;\r\nconst Types_1 = __webpack_require__(/*! ./Types */ "./src/Types.ts");\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst Configs_1 = __webpack_require__(/*! ./Configs */ "./src/Configs/index.ts");\r\nconst ObjectAble_1 = __webpack_require__(/*! ./Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst Index_1 = __webpack_require__(/*! ./Bridge/Index */ "./src/Bridge/Index.ts");\r\nconst BeginWork_1 = __webpack_require__(/*! ./Works/ExtendsWorks/BeginWork */ "./src/Works/ExtendsWorks/BeginWork.ts");\r\nconst valueUtil_1 = __webpack_require__(/*! ./Object/valueUtil */ "./src/Object/valueUtil.ts");\r\nconst operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");\r\nclass Context {\r\n    constructor(runOptions) {\r\n        this.status = Types_1.WorkType.WorkRunStatus.INIT;\r\n        this.platform = Index_1.default;\r\n        /**\r\n         * 上下文变量\r\n         */\r\n        this.runConstant = new Map();\r\n        /**\r\n         * 所有work\r\n         */\r\n        this.works = [];\r\n        /**\r\n         * 消息传输通道\r\n         */\r\n        this.msgChannel = new rxjs_1.Subject();\r\n        /**\r\n         * 需要销毁的Subscription\r\n         */\r\n        this.pools = [];\r\n        this.runOptions = (runOptions || Configs_1.DefaultRunConfig);\r\n        const sub = this.msgChannel.subscribe({\r\n            next: (value) => this.workMessage(value),\r\n            error: (error) => this.workError(error),\r\n        });\r\n        this.pools.push(sub);\r\n        this.addWork(new BeginWork_1.BeginWork());\r\n    }\r\n    /**\r\n     * 增加上下文变量\r\n     * @param from\r\n     * @param name\r\n     * @param value\r\n     */\r\n    addVariable(from, name, value) {\r\n        const w_map = this.runConstant.get(from.uuid);\r\n        !w_map && this.runConstant.set(from.uuid, new Map());\r\n        this.runConstant.get(from.uuid).set(name, value);\r\n    }\r\n    workMessage(input) {\r\n        console.log("msgChannel", input);\r\n    }\r\n    workError(error) {\r\n        console.log("msgChannelError", error);\r\n        this.stopWorkChain();\r\n    }\r\n    addWorkLog(tap) {\r\n        return this.msgChannel.subscribe(tap);\r\n    }\r\n    sendLog(status) {\r\n        const log = {\r\n            date: new Date(),\r\n            work: status.work.filter(($1) => $1?.name),\r\n            desc: status.desc,\r\n            value: status.value,\r\n            error: status.error,\r\n        };\r\n        this.msgChannel.next(log);\r\n    }\r\n    addWork(work) {\r\n        if (work.constructor.isAble && work.constructor.isAble() === false) {\r\n            const desc = "[content][Func:addWork][work isAble is false]";\r\n            return this.sendLog({\r\n                content: this,\r\n                work: [],\r\n                desc,\r\n                value: null,\r\n                error: new Error(desc),\r\n            });\r\n        }\r\n        if (this.status !== Types_1.WorkType.WorkRunStatus.INIT) {\r\n            return this.sendLog({\r\n                content: this,\r\n                work: [],\r\n                desc: "[content][Func:addWork][context status is not init]",\r\n                value: new ObjectAble_1.BooleanObject(false),\r\n            });\r\n        }\r\n        work.context = this;\r\n        this.works.push(work);\r\n    }\r\n    addWorks(...works) {\r\n        works.forEach(this.addWork);\r\n    }\r\n    async prepareWorks() {\r\n        if (this.status !== Types_1.WorkType.WorkRunStatus.INIT) {\r\n            return this.sendLog({\r\n                content: this,\r\n                work: [],\r\n                desc: "[content][Func:prepareWorks][context status is not init]",\r\n                value: new ObjectAble_1.BooleanObject(false),\r\n            });\r\n        }\r\n        ;\r\n        await Promise.all(this.works.map(($1, index, source) => {\r\n            const before = source[index - 1];\r\n            const after = source[index + 1];\r\n            return $1.prepare(before, after);\r\n        }));\r\n        this.status = Types_1.WorkType.WorkRunStatus.READY;\r\n    }\r\n    dispatch(input) {\r\n        if (this.status === Types_1.WorkType.WorkRunStatus.INIT) {\r\n            return this.sendLog({\r\n                content: this,\r\n                work: [],\r\n                desc: "[context][Func:run][run status is not ready  or 已经初始化]",\r\n                value: new ObjectAble_1.BooleanObject(false),\r\n            });\r\n        }\r\n        ;\r\n        const inputWork = this.works[0];\r\n        if (inputWork) {\r\n            inputWork.startRun((0, valueUtil_1.decide)(input));\r\n        }\r\n        this.status = Types_1.WorkType.WorkRunStatus.RUNNING;\r\n    }\r\n    /**\r\n     * 停止执行\r\n     * 关闭\r\n     */\r\n    stopWorkChain() {\r\n        const that = this;\r\n        return new Promise((resolve, reject) => {\r\n            const taskUns = this.works.map(($1) => $1.stopWork());\r\n            let isSuccess = false;\r\n            let errors = [];\r\n            (0, rxjs_1.forkJoin)(taskUns).pipe((0, operators_1.take)(1)).subscribe({\r\n                next: (values) => {\r\n                    (isSuccess = values.every(($1, index) => {\r\n                        if ($1 === true)\r\n                            return true;\r\n                        errors.push(this.works[index]);\r\n                        return false;\r\n                    }));\r\n                    resolve(isSuccess);\r\n                },\r\n                error: (error) => {\r\n                    // 关闭报错\r\n                    reject(error);\r\n                },\r\n                complete: () => {\r\n                    this.sendLog({\r\n                        content: that,\r\n                        work: errors,\r\n                        desc: "[content][Func:stopWorkChain]",\r\n                        value: new ObjectAble_1.ObjectTarget({\r\n                            id: \'stopWorkChain\',\r\n                            value: (0, valueUtil_1.decide)(isSuccess),\r\n                            option: {},\r\n                        }),\r\n                    });\r\n                },\r\n            });\r\n        });\r\n    }\r\n    clear() {\r\n        this.pools.forEach(($1) => $1.unsubscribe());\r\n    }\r\n}\r\nexports.Context = Context;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Context.ts?')},"./src/Object/Able/ObjectAble.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.DataObject = exports.DateObject = exports.BooleanObject = exports.StringObject = exports.NumberObject = exports.SetObject = exports.MapObject = exports.ArrayObject = exports.ObjectTarget = void 0;\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./Targets/ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nObject.defineProperty(exports, "ObjectTarget", ({ enumerable: true, get: function () { return ObjectTarget_1.ObjectTarget; } }));\r\nconst ArrayObject_1 = __webpack_require__(/*! ./Targets/ArrayObject */ "./src/Object/Able/Targets/ArrayObject.ts");\r\nObject.defineProperty(exports, "ArrayObject", ({ enumerable: true, get: function () { return ArrayObject_1.ArrayObject; } }));\r\nconst MapObject_1 = __webpack_require__(/*! ./Targets/MapObject */ "./src/Object/Able/Targets/MapObject.ts");\r\nObject.defineProperty(exports, "MapObject", ({ enumerable: true, get: function () { return MapObject_1.MapObject; } }));\r\nconst SetObject_1 = __webpack_require__(/*! ./Targets/SetObject */ "./src/Object/Able/Targets/SetObject.ts");\r\nObject.defineProperty(exports, "SetObject", ({ enumerable: true, get: function () { return SetObject_1.SetObject; } }));\r\nconst NumberObject_1 = __webpack_require__(/*! ./Targets/NumberObject */ "./src/Object/Able/Targets/NumberObject.ts");\r\nObject.defineProperty(exports, "NumberObject", ({ enumerable: true, get: function () { return NumberObject_1.NumberObject; } }));\r\nconst StringObject_1 = __webpack_require__(/*! ./Targets/StringObject */ "./src/Object/Able/Targets/StringObject.ts");\r\nObject.defineProperty(exports, "StringObject", ({ enumerable: true, get: function () { return StringObject_1.StringObject; } }));\r\nconst BooleanObject_1 = __webpack_require__(/*! ./Targets/BooleanObject */ "./src/Object/Able/Targets/BooleanObject.ts");\r\nObject.defineProperty(exports, "BooleanObject", ({ enumerable: true, get: function () { return BooleanObject_1.BooleanObject; } }));\r\nconst DateObject_1 = __webpack_require__(/*! ./Targets/DateObject */ "./src/Object/Able/Targets/DateObject.ts");\r\nObject.defineProperty(exports, "DateObject", ({ enumerable: true, get: function () { return DateObject_1.DateObject; } }));\r\nconst DataObject_1 = __webpack_require__(/*! ./Targets/DataObject */ "./src/Object/Able/Targets/DataObject.ts");\r\nObject.defineProperty(exports, "DataObject", ({ enumerable: true, get: function () { return DataObject_1.DataObject; } }));\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/ObjectAble.ts?')},"./src/Object/Able/Targets/ArrayObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar ArrayObject_1;\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.ArrayObject = void 0;\r\nconst Control_1 = __webpack_require__(/*! ../../Control */ "./src/Object/Control.ts");\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nconst valueUtil_1 = __webpack_require__(/*! ../../valueUtil */ "./src/Object/valueUtil.ts");\r\nlet ArrayObject = ArrayObject_1 = class ArrayObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value) {\r\n        var init = typeof value === \'number\' ? new Array(value) : (Array.isArray(value) ? value : []);\r\n        super(init);\r\n        this._value = init;\r\n    }\r\n    len() {\r\n        return this._value.length;\r\n    }\r\n    first() {\r\n        return this[0];\r\n    }\r\n    last() {\r\n        return this[this._value.length - 1];\r\n    }\r\n    valueOfIndex(index) {\r\n        return this[index];\r\n    }\r\n    valueOf() {\r\n        return this._value;\r\n    }\r\n    merge(target) {\r\n        return new ArrayObject_1([...this._value, ...target._value]);\r\n    }\r\n    collectionArray(key, ...args) { return null; }\r\n    ;\r\n    // array function\r\n    concat(...items) { return null; }\r\n    ;\r\n    copyWithin(target, start, end) { return null; }\r\n    fill(value, start, end) { return null; }\r\n    ;\r\n    find(predicate, thisArg) { return null; }\r\n    findIndex(predicate, thisArg) { return null; }\r\n    lastIndexOf(searchElement, fromIndex) { return null; }\r\n    ;\r\n    pop() { return null; }\r\n    push(...items) { return null; }\r\n    reverse() { return null; }\r\n    shift() { return null; }\r\n    unshift(...items) { return null; }\r\n    slice(start, end) { return null; }\r\n    sort(compareFn) { return null; }\r\n    splice(start, deleteCount, ...items) { return null; }\r\n    includes(searchElement, fromIndex) { return null; }\r\n    indexOf(searchElement, fromIndex) { return null; }\r\n    join(separator) { return null; }\r\n    entries() { return null; }\r\n    ;\r\n    values() { return null; }\r\n    ;\r\n    keys() { return null; }\r\n    ;\r\n    forEach(callbackfn, thisArg) { return null; }\r\n    filter(predicate, thisArg) { return null; }\r\n    map(callbackfn, thisArg) { return null; }\r\n    every(predicate, thisArg) { return null; }\r\n    some(predicate, thisArg) { return null; }\r\n    reduce(callbackfn, initialValue) { return null; }\r\n    reduceRight(callbackfn, initialValue) { return null; }\r\n    toLocaleString() { return null; }\r\n    get length() {\r\n        return (0, valueUtil_1.decide)(this._value.length);\r\n    }\r\n};\r\nArrayObject.attributes = new Set();\r\nArrayObject.empty = new ArrayObject_1([]);\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Number)\r\n], ArrayObject.prototype, "len", null);\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "first", null);\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "last", null);\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __param(0, (0, util_1.Params)("index")),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Number]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "valueOfIndex", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "collectionArray", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "concat", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Number, Number, Number]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "copyWithin", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Number, Number, Number]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "fill", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "find", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "findIndex", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Number, Number]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "lastIndexOf", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "pop", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "push", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "reverse", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "shift", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "unshift", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Number, Number]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "slice", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "sort", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Number, Number, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "splice", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object, Number]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "includes", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object, Number]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "indexOf", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "join", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", ObjectTarget_1.ObjectTarget)\r\n], ArrayObject.prototype, "entries", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", ObjectTarget_1.ObjectTarget)\r\n], ArrayObject.prototype, "values", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", ObjectTarget_1.ObjectTarget)\r\n], ArrayObject.prototype, "keys", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "forEach", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "filter", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "map", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "every", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "some", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "reduce", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "reduceRight", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], ArrayObject.prototype, "toLocaleString", null);\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call([])),\r\n    __metadata("design:type", String)\r\n], ArrayObject, "type", void 0);\r\nArrayObject = ArrayObject_1 = __decorate([\r\n    util_1.ArrayUint,\r\n    __metadata("design:paramtypes", [Object])\r\n], ArrayObject);\r\nexports.ArrayObject = ArrayObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/ArrayObject.ts?')},"./src/Object/Able/Targets/BooleanObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.BooleanObject = void 0;\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nclass BooleanObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value = false) {\r\n        super(value);\r\n        this._value = value;\r\n    }\r\n    valueOf() {\r\n        return !!(this._value);\r\n    }\r\n}\r\nBooleanObject.attributes = new Set();\r\nBooleanObject.empty = new BooleanObject(false);\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Boolean)\r\n], BooleanObject.prototype, "valueOf", null);\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call(new Boolean(1))),\r\n    __metadata("design:type", String)\r\n], BooleanObject, "type", void 0);\r\nexports.BooleanObject = BooleanObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/BooleanObject.ts?')},"./src/Object/Able/Targets/DataObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.DataObject = void 0;\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nclass DataObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value = new ArrayBuffer(0)) {\r\n        super(value);\r\n        this._value = value;\r\n    }\r\n    data() {\r\n        return this.valueOf();\r\n    }\r\n    valueOf() {\r\n        return this._value;\r\n    }\r\n}\r\nDataObject.attributes = new Set();\r\nDataObject.empty = new DataObject(new ArrayBuffer(0));\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", ArrayBuffer)\r\n], DataObject.prototype, "valueOf", null);\r\nexports.DataObject = DataObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/DataObject.ts?')},"./src/Object/Able/Targets/DateObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.DateObject = void 0;\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nclass DateObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value = new Date()) {\r\n        super(value);\r\n        this._value = value;\r\n    }\r\n    timestamp() {\r\n        return this.valueOf().getTime();\r\n    }\r\n    valueOf() {\r\n        return new Date(this._value);\r\n    }\r\n}\r\nDateObject.attributes = new Set();\r\nDateObject.empty = new DateObject(new Date());\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Number)\r\n], DateObject.prototype, "timestamp", null);\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Date)\r\n], DateObject.prototype, "valueOf", null);\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call(new Date())),\r\n    __metadata("design:type", String)\r\n], DateObject, "type", void 0);\r\nexports.DateObject = DateObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/DateObject.ts?')},"./src/Object/Able/Targets/MapObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nvar MapObject_1;\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.MapObject = void 0;\r\nconst Control_1 = __webpack_require__(/*! ../../Control */ "./src/Object/Control.ts");\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nconst valueUtil_1 = __webpack_require__(/*! ../../valueUtil */ "./src/Object/valueUtil.ts");\r\nlet MapObject = MapObject_1 = class MapObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value = new Map()) {\r\n        super(value);\r\n        this._value = new Map(value);\r\n    }\r\n    len() {\r\n        return this._value.size;\r\n    }\r\n    valueOf() {\r\n        return this._value;\r\n    }\r\n    merge(target) {\r\n        const newMap = new Map(this._value);\r\n        target._value.forEach(($1, key) => newMap.set(key, $1));\r\n        return new MapObject_1(newMap);\r\n    }\r\n    collectionMap(key, ...args) { return null; }\r\n    get(key) { return null; }\r\n    set(key, value) { return null; }\r\n    has(key) { return null; }\r\n    delete(key) { return null; }\r\n    clear() { return null; }\r\n    entries() { return null; }\r\n    forEach(callback, thisArg) { return null; }\r\n    values() { return null; }\r\n    keys() { return null; }\r\n    get size() {\r\n        return (0, valueUtil_1.decide)(this._value.size);\r\n    }\r\n};\r\nMapObject.attributes = new Set();\r\nMapObject.empty = new MapObject_1(new Map());\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Number)\r\n], MapObject.prototype, "len", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String, Object]),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "collectionMap", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String]),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "get", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String, Object]),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "set", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String]),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "has", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String]),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "delete", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "clear", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "entries", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "forEach", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "values", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], MapObject.prototype, "keys", null);\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call(new Map())),\r\n    __metadata("design:type", String)\r\n], MapObject, "type", void 0);\r\nMapObject = MapObject_1 = __decorate([\r\n    util_1.MapUint,\r\n    __metadata("design:paramtypes", [Map])\r\n], MapObject);\r\nexports.MapObject = MapObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/MapObject.ts?')},"./src/Object/Able/Targets/NumberObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nvar NumberObject_1;\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.NumberObject = void 0;\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nconst BooleanObject_1 = __webpack_require__(/*! ./BooleanObject */ "./src/Object/Able/Targets/BooleanObject.ts");\r\nlet NumberObject = NumberObject_1 = class NumberObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value = 1) {\r\n        super(value);\r\n        this._value = value;\r\n    }\r\n    valueOf() {\r\n        return this._value;\r\n    }\r\n    merge(target) {\r\n        return new NumberObject_1(this._value + target._value);\r\n    }\r\n    // Compare\r\n    // compare: ControlFlow.CompareExec;\r\n    more(target) {\r\n        return new BooleanObject_1.BooleanObject(this._value > target._value);\r\n    }\r\n    equal(target) {\r\n        return new BooleanObject_1.BooleanObject(this._value === target._value);\r\n    }\r\n    less(target) {\r\n        return new BooleanObject_1.BooleanObject(this._value < target._value);\r\n    }\r\n    moreEqual(target) {\r\n        return new BooleanObject_1.BooleanObject(this._value >= target._value);\r\n    }\r\n    lessEqual(target) {\r\n        return new BooleanObject_1.BooleanObject(this._value <= target._value);\r\n    }\r\n    // Calc\r\n    // calc: ControlFlow.CalcFunction;\r\n    plus(target) {\r\n        return new NumberObject_1(this._value + target._value);\r\n    }\r\n    reduce(target) {\r\n        return new NumberObject_1(this._value - target._value);\r\n    }\r\n    multi(target) {\r\n        return new NumberObject_1(this._value * target._value);\r\n    }\r\n    divide(target) {\r\n        return new NumberObject_1(target._value === 0 ? Infinity : this._value / target._value);\r\n    }\r\n};\r\nNumberObject.attributes = new Set();\r\nNumberObject.empty = new NumberObject_1(0);\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Number)\r\n], NumberObject.prototype, "valueOf", null);\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call(new Number())),\r\n    __metadata("design:type", String)\r\n], NumberObject, "type", void 0);\r\nNumberObject = NumberObject_1 = __decorate([\r\n    util_1.CalcUnit,\r\n    util_1.CompareUnit,\r\n    __metadata("design:paramtypes", [Number])\r\n], NumberObject);\r\nexports.NumberObject = NumberObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/NumberObject.ts?')},"./src/Object/Able/Targets/ObjectTarget.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.ObjectTarget = void 0;\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nclass ObjectTarget {\r\n    constructor(value = {}) {\r\n        this._value = value;\r\n    }\r\n    get [Symbol.toStringTag]() {\r\n        return \'flow-object\';\r\n    }\r\n    valueOf() {\r\n        return this._value;\r\n    }\r\n    merge(target) {\r\n        try {\r\n            const result = Object.assign(this._value, target._value);\r\n            return new ObjectTarget(result);\r\n        }\r\n        catch (error) {\r\n            return new ObjectTarget(null);\r\n        }\r\n    }\r\n    json() {\r\n        const { StringObject } = __webpack_require__(/*! ./StringObject */ "./src/Object/Able/Targets/StringObject.ts");\r\n        try {\r\n            return new StringObject(JSON.stringify(this._value));\r\n        }\r\n        catch (error) {\r\n            return new StringObject("{}");\r\n        }\r\n    }\r\n}\r\nObjectTarget.attributes = new Set();\r\nObjectTarget.empty = new ObjectTarget({});\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call({})),\r\n    __metadata("design:type", String)\r\n], ObjectTarget, "type", void 0);\r\nexports.ObjectTarget = ObjectTarget;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/ObjectTarget.ts?')},"./src/Object/Able/Targets/SetObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nvar SetObject_1;\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.SetObject = void 0;\r\nconst Control_1 = __webpack_require__(/*! ../../Control */ "./src/Object/Control.ts");\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nconst valueUtil_1 = __webpack_require__(/*! ../../valueUtil */ "./src/Object/valueUtil.ts");\r\nlet SetObject = SetObject_1 = class SetObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value) {\r\n        const init = !!value ? (Array.isArray(value) ? new Set(value) : value) : new Set();\r\n        super(init);\r\n        this._value = init;\r\n    }\r\n    len() {\r\n        return this._value.size;\r\n    }\r\n    valueOf() {\r\n        return this._value;\r\n    }\r\n    merge(target) {\r\n        const newSet = new Set();\r\n        this._value.forEach(($1) => newSet.add($1));\r\n        target.forEach(($1) => newSet.add($1));\r\n        new Set().keys;\r\n        return new SetObject_1(newSet);\r\n    }\r\n    collectionSet(key, ...args) { return null; }\r\n    ;\r\n    has(value) { return null; }\r\n    add(value) { return null; }\r\n    delete(value) { return null; }\r\n    clear() { return null; }\r\n    forEach(callbackfn, thisArg) { return null; }\r\n    ;\r\n    entries() { return null; }\r\n    ;\r\n    values() { return null; }\r\n    ;\r\n    keys() { return null; }\r\n    ;\r\n    get size() {\r\n        return (0, valueUtil_1.decide)(this._value.size);\r\n    }\r\n};\r\nSetObject.attributes = new Set();\r\nSetObject.empty = new SetObject_1(new Set());\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Number)\r\n], SetObject.prototype, "len", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [String, Object]),\r\n    __metadata("design:returntype", Object)\r\n], SetObject.prototype, "collectionSet", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object]),\r\n    __metadata("design:returntype", Object)\r\n], SetObject.prototype, "has", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object]),\r\n    __metadata("design:returntype", Object)\r\n], SetObject.prototype, "add", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Object]),\r\n    __metadata("design:returntype", Object)\r\n], SetObject.prototype, "delete", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", Object)\r\n], SetObject.prototype, "clear", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", [Function, Object]),\r\n    __metadata("design:returntype", Object)\r\n], SetObject.prototype, "forEach", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", ObjectTarget_1.ObjectTarget)\r\n], SetObject.prototype, "entries", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", ObjectTarget_1.ObjectTarget)\r\n], SetObject.prototype, "values", null);\r\n__decorate([\r\n    util_1.onlyDeclaration,\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", ObjectTarget_1.ObjectTarget)\r\n], SetObject.prototype, "keys", null);\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call(new Set())),\r\n    __metadata("design:type", String)\r\n], SetObject, "type", void 0);\r\nSetObject = SetObject_1 = __decorate([\r\n    util_1.SetUint,\r\n    __metadata("design:paramtypes", [Object])\r\n], SetObject);\r\nexports.SetObject = SetObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/SetObject.ts?')},"./src/Object/Able/Targets/StringObject.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.StringObject = void 0;\r\nconst util_1 = __webpack_require__(/*! ../../util */ "./src/Object/util.ts");\r\nconst ObjectTarget_1 = __webpack_require__(/*! ./ObjectTarget */ "./src/Object/Able/Targets/ObjectTarget.ts");\r\nclass StringObject extends ObjectTarget_1.ObjectTarget {\r\n    constructor(value = \'\') {\r\n        super(value);\r\n        this._value = value;\r\n    }\r\n    valueOf() {\r\n        return this._value;\r\n    }\r\n}\r\nStringObject.attributes = new Set();\r\nStringObject.empty = new StringObject("");\r\n__decorate([\r\n    (0, util_1.attribute)(),\r\n    __metadata("design:type", Function),\r\n    __metadata("design:paramtypes", []),\r\n    __metadata("design:returntype", String)\r\n], StringObject.prototype, "valueOf", null);\r\n__decorate([\r\n    (0, util_1.DefaultValue)(Object.prototype.toString.call(new String())),\r\n    __metadata("design:type", String)\r\n], StringObject, "type", void 0);\r\nexports.StringObject = StringObject;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Able/Targets/StringObject.ts?')},"./src/Object/Control.ts":(__unused_webpack_module,exports)=>{"use strict";eval('\r\n// import { BooleanAble, NumberAble, ValueAble } from "./Able/Ables";\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.ControlFlow = void 0;\r\nvar ControlFlow;\r\n(function (ControlFlow) {\r\n    // 比较属性 compare\r\n    let CompareEnum;\r\n    (function (CompareEnum) {\r\n        CompareEnum["More"] = "more";\r\n        CompareEnum["Equal"] = "equal";\r\n        CompareEnum["Less"] = "less";\r\n        CompareEnum["MoreEqual"] = "moreEqual";\r\n        CompareEnum["LessEqual"] = "lessEqual";\r\n    })(CompareEnum = ControlFlow.CompareEnum || (ControlFlow.CompareEnum = {}));\r\n    // 计算属性\r\n    let CalcEnum;\r\n    (function (CalcEnum) {\r\n        CalcEnum["Plus"] = "plus";\r\n        CalcEnum["Reduce"] = "reduce";\r\n        CalcEnum["Multi"] = "multi";\r\n        CalcEnum["Divide"] = "divide";\r\n    })(CalcEnum = ControlFlow.CalcEnum || (ControlFlow.CalcEnum = {}));\r\n    //集合属性\r\n    let CollectionEnum;\r\n    (function (CollectionEnum) {\r\n        CollectionEnum["Contain"] = "contain";\r\n        CollectionEnum["Add"] = "add";\r\n        CollectionEnum["ValueFor"] = "valueFor";\r\n        CollectionEnum["Keys"] = "keys";\r\n        CollectionEnum["Values"] = "values";\r\n    })(CollectionEnum = ControlFlow.CollectionEnum || (ControlFlow.CollectionEnum = {}));\r\n    //Object.keys(Object.getOwnPropertyDescriptors(Array.prototype)).map($1=>`${$1}: ControlFlow.ArrayFunction`).join(\'\\n\')\r\n    let ArrayEnum;\r\n    (function (ArrayEnum) {\r\n        ArrayEnum["Concat"] = "concat";\r\n        ArrayEnum["CopyWithin"] = "copyWithin";\r\n        ArrayEnum["Fill"] = "fill";\r\n        ArrayEnum["Find"] = "find";\r\n        ArrayEnum["FindIndex"] = "findIndex";\r\n        ArrayEnum["LastIndexOf"] = "lastIndexOf";\r\n        ArrayEnum["Pop"] = "pop";\r\n        ArrayEnum["Push"] = "push";\r\n        ArrayEnum["Reverse"] = "reverse";\r\n        ArrayEnum["Shift"] = "shift";\r\n        ArrayEnum["Unshift"] = "unshift";\r\n        ArrayEnum["Slice"] = "slice";\r\n        ArrayEnum["Sort"] = "sort";\r\n        ArrayEnum["Splice"] = "splice";\r\n        ArrayEnum["Includes"] = "includes";\r\n        ArrayEnum["IndexOf"] = "indexOf";\r\n        ArrayEnum["Join"] = "join";\r\n        ArrayEnum["Keys"] = "keys";\r\n        ArrayEnum["Entries"] = "entries";\r\n        ArrayEnum["Values"] = "values";\r\n        ArrayEnum["ForEach"] = "forEach";\r\n        ArrayEnum["Filter"] = "filter";\r\n        ArrayEnum["Map"] = "map";\r\n        ArrayEnum["Every"] = "every";\r\n        ArrayEnum["Some"] = "some";\r\n        ArrayEnum["Reduce"] = "reduce";\r\n        ArrayEnum["ReduceRight"] = "reduceRight";\r\n    })(ArrayEnum = ControlFlow.ArrayEnum || (ControlFlow.ArrayEnum = {}));\r\n    let SetEnum;\r\n    (function (SetEnum) {\r\n        SetEnum["Has"] = "has";\r\n        SetEnum["Add"] = "add";\r\n        SetEnum["Delete"] = "delete";\r\n        SetEnum["Clear"] = "clear";\r\n        SetEnum["Entries"] = "entries";\r\n        SetEnum["ForEach"] = "forEach";\r\n        SetEnum["Values"] = "values";\r\n        SetEnum["Keys"] = "keys";\r\n    })(SetEnum = ControlFlow.SetEnum || (ControlFlow.SetEnum = {}));\r\n    let MapEnum;\r\n    (function (MapEnum) {\r\n        MapEnum["Get"] = "get";\r\n        MapEnum["Set"] = "set";\r\n        MapEnum["Has"] = "has";\r\n        MapEnum["Delete"] = "delete";\r\n        MapEnum["Clear"] = "clear";\r\n        MapEnum["Entries"] = "entries";\r\n        MapEnum["ForEach"] = "forEach";\r\n        MapEnum["Keys"] = "keys";\r\n        MapEnum["Values"] = "values";\r\n    })(MapEnum = ControlFlow.MapEnum || (ControlFlow.MapEnum = {}));\r\n})(ControlFlow = exports.ControlFlow || (exports.ControlFlow = {}));\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/Control.ts?')},"./src/Object/util.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.MapUint = exports.SetUint = exports.ArrayUint = exports.CalcUnit = exports.CompareUnit = exports.onlyDeclaration = exports.DefaultValue = exports.ObjectManager = exports.Params = exports.attribute = exports.onlyDeclarationTag = void 0;\r\nconst ObjectAble_1 = __webpack_require__(/*! ./Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst Control_1 = __webpack_require__(/*! ./Control */ "./src/Object/Control.ts");\r\nconst valueUtil_1 = __webpack_require__(/*! ./valueUtil */ "./src/Object/valueUtil.ts");\r\nexports.onlyDeclarationTag = \'onlyDeclaration\';\r\nfunction attribute() {\r\n    return function ($1, $2, descriptor) {\r\n        $1.constructor.attributes.add($2);\r\n    };\r\n}\r\nexports.attribute = attribute;\r\nfunction Params(params) {\r\n    return function (target, methodName, paramsIndex) {\r\n        !target.$Meta && (target.$Meta = {});\r\n        !target.$Meta[methodName] && (target.$Meta[methodName] = {});\r\n        target.$Meta[methodName][paramsIndex] = params;\r\n    };\r\n}\r\nexports.Params = Params;\r\nclass ObjectManager {\r\n}\r\nexports.ObjectManager = ObjectManager;\r\nObjectManager.types = new Set();\r\nfunction DefaultValue(value) {\r\n    return function (target, propertyName) {\r\n        target[propertyName] = value;\r\n        ObjectManager.types.add(value);\r\n    };\r\n}\r\nexports.DefaultValue = DefaultValue;\r\n/**\r\n * 声明 方式无效 仅仅作为标记\r\n */\r\nfunction onlyDeclaration(target, name, dec) {\r\n    dec.value.declaration = exports.onlyDeclarationTag;\r\n}\r\nexports.onlyDeclaration = onlyDeclaration;\r\nfunction CompareUnit(host) {\r\n    Object.keys(Control_1.ControlFlow.CompareEnum).forEach((item) => {\r\n        const key = Control_1.ControlFlow.CompareEnum[item];\r\n        const comFunction = host.prototype[key];\r\n        if (!comFunction || comFunction.declaration === exports.onlyDeclarationTag) {\r\n            host.prototype[key] = () => new ObjectAble_1.BooleanObject(false);\r\n        }\r\n    });\r\n    if (host.prototype.compare?.declaration === exports.onlyDeclarationTag || !!host.prototype.compare === false)\r\n        (host.prototype.compare = function (type, target) {\r\n            const execFunc = host.prototype[type]?.bind(this);\r\n            if (execFunc && typeof execFunc === "function")\r\n                return execFunc.call(this, target);\r\n            return false;\r\n        });\r\n}\r\nexports.CompareUnit = CompareUnit;\r\nfunction CalcUnit(host) {\r\n    Object.keys(Control_1.ControlFlow.CalcEnum).forEach((item) => {\r\n        const key = Control_1.ControlFlow.CalcEnum[item];\r\n        const comFunction = host.prototype[key];\r\n        if (!comFunction || comFunction.declaration === exports.onlyDeclarationTag) {\r\n            host.prototype[key] = () => new ObjectAble_1.NumberObject(0);\r\n        }\r\n    });\r\n    if (host.prototype.calc?.declaration === exports.onlyDeclarationTag || !!host.prototype.calc === false)\r\n        (host.prototype.calc = function (type, target) {\r\n            const execFunc = host.prototype[type]?.bind(this);\r\n            if (execFunc && typeof execFunc === "function")\r\n                return execFunc.call(this, target);\r\n            return false;\r\n        });\r\n}\r\nexports.CalcUnit = CalcUnit;\r\nfunction ArrayUint(host) {\r\n    Object.keys(Control_1.ControlFlow.ArrayEnum).forEach((item) => {\r\n        const key = Control_1.ControlFlow.ArrayEnum[item];\r\n        const comFunction = host.prototype[key];\r\n        if (!comFunction || comFunction.declaration === exports.onlyDeclarationTag) {\r\n            host.prototype[key] = function (...args) {\r\n                const value = this.valueOf();\r\n                const execFunc = value[key];\r\n                let result;\r\n                if (typeof execFunc === "function") {\r\n                    result = execFunc.bind(value)(...args);\r\n                }\r\n                else\r\n                    result = value;\r\n                return (0, valueUtil_1.decide)(result);\r\n            };\r\n        }\r\n    });\r\n    if (host.prototype.collectionArray?.declaration === exports.onlyDeclarationTag || !!host.prototype.collectionArray === false)\r\n        (host.prototype.collectionArray = function (type, ...args) {\r\n            const execFunc = host.prototype[type]?.bind(this);\r\n            if (execFunc && typeof execFunc === "function")\r\n                return execFunc(...args);\r\n            return false;\r\n        });\r\n}\r\nexports.ArrayUint = ArrayUint;\r\nfunction SetUint(host) {\r\n    Object.keys(Control_1.ControlFlow.SetEnum).forEach((item) => {\r\n        const key = Control_1.ControlFlow.SetEnum[item];\r\n        const comFunction = host.prototype[key];\r\n        if (!comFunction || comFunction.declaration === exports.onlyDeclarationTag) {\r\n            host.prototype[key] = function (...args) {\r\n                const value = this.valueOf();\r\n                const execFunc = value[key];\r\n                let result;\r\n                if (typeof execFunc === "function") {\r\n                    result = execFunc.bind(value)(...args);\r\n                }\r\n                else\r\n                    result = value;\r\n                return (0, valueUtil_1.decide)(result);\r\n            };\r\n        }\r\n    });\r\n    if (host.prototype.collectionSet?.declaration === exports.onlyDeclarationTag || !!host.prototype.collectionSet === false)\r\n        (host.prototype.collectionSet = function (type, ...args) {\r\n            const execFunc = host.prototype[type]?.bind(this);\r\n            if (execFunc && typeof execFunc === "function")\r\n                return execFunc(...args);\r\n            return false;\r\n        });\r\n}\r\nexports.SetUint = SetUint;\r\nfunction MapUint(host) {\r\n    Object.keys(Control_1.ControlFlow.MapEnum).forEach((item) => {\r\n        const key = Control_1.ControlFlow.MapEnum[item];\r\n        const comFunction = host.prototype[key];\r\n        if (!comFunction || comFunction.declaration === exports.onlyDeclarationTag) {\r\n            host.prototype[key] = function (...args) {\r\n                const value = this.valueOf();\r\n                const execFunc = value[key];\r\n                let result;\r\n                if (typeof execFunc === "function") {\r\n                    result = execFunc.bind(value)(...args);\r\n                }\r\n                else\r\n                    result = value;\r\n                return (0, valueUtil_1.decide)(result);\r\n            };\r\n        }\r\n    });\r\n    if (host.prototype.collectionMap?.declaration === exports.onlyDeclarationTag || !!host.prototype.collectionMap === false)\r\n        (host.prototype.collectionMap = function (type, ...args) {\r\n            const execFunc = host.prototype[type]?.bind(this);\r\n            if (execFunc && typeof execFunc === "function")\r\n                return execFunc(...args);\r\n            return false;\r\n        });\r\n}\r\nexports.MapUint = MapUint;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/util.ts?')},"./src/Object/valueUtil.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.decide = exports.isAbleType = void 0;\r\nconst __1 = __webpack_require__(/*! .. */ "./src/index.ts");\r\nconst Value = __webpack_require__(/*! ./Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nlet ObjectMap = null;\r\nconst init = () => {\r\n    if (ObjectMap === null) {\r\n        ObjectMap = {\r\n            "[object Object]": Value.ObjectTarget,\r\n            "[object Map]": Value.MapObject,\r\n            "[object Set]": Value.SetObject,\r\n            "[object Array]": Value.ArrayObject,\r\n            "[object Boolean]": Value.BooleanObject,\r\n            "[object Date]": Value.DateObject,\r\n            "[object Number]": Value.NumberObject,\r\n            "[object String]": Value.StringObject,\r\n            "[object ArrayBuffer]": Value.DataObject,\r\n            "[object Uint8Array]": Value.DataObject,\r\n            "[object Promise]": Value.ObjectTarget,\r\n            \'[object Null]\': Value.ObjectTarget,\r\n            \'[object Undefined]\': Value.ObjectTarget,\r\n        };\r\n    }\r\n    return ObjectMap;\r\n};\r\nconst isAbleType = (value) => {\r\n    init();\r\n    return Object.prototype.toString.call(value) === \'[object flow-object]\';\r\n};\r\nexports.isAbleType = isAbleType;\r\n/**\r\n * 将js 数据转为 BaseType\r\n * 如果是BaseType类型 将不会包装。见[force]\r\n * @param value\r\n * @param force 是否强制包装\r\n * @returns\r\n */\r\nconst decide = function (value, force = false) {\r\n    init();\r\n    if ((0, exports.isAbleType)(value) && force === false)\r\n        return value;\r\n    const key = Object.prototype.toString.call(value);\r\n    const Target = ObjectMap[key];\r\n    if (Target) {\r\n        return new Target(value ?? {});\r\n    }\r\n    return new __1.ObjectTarget(value ?? {});\r\n};\r\nexports.decide = decide;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Object/valueUtil.ts?')},"./src/Types.ts":(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.WorkType = void 0;\r\nvar WorkType;\r\n(function (WorkType) {\r\n    let WorkRunStatus;\r\n    (function (WorkRunStatus) {\r\n        WorkRunStatus[WorkRunStatus["INIT"] = 0] = "INIT";\r\n        // FROZEN,//冻结状态 \r\n        WorkRunStatus[WorkRunStatus["READY"] = 1] = "READY";\r\n        // PRE_RUN,//预运行状态 已经初始化\r\n        WorkRunStatus[WorkRunStatus["RUNNING"] = 2] = "RUNNING";\r\n        WorkRunStatus[WorkRunStatus["COMPLETE"] = 3] = "COMPLETE";\r\n    })(WorkRunStatus = WorkType.WorkRunStatus || (WorkType.WorkRunStatus = {}));\r\n})(WorkType = exports.WorkType || (exports.WorkType = {}));\r\n\n\n//# sourceURL=webpack://command-flow/./src/Types.ts?')},"./src/Util/Equipment.ts":(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.PlatformSelect = exports.isJS = exports.isMobile = exports.isElectron = exports.isPC = exports.isNode = exports.isWeb = exports.currentEnir = exports.JSRUNEnvirType = exports.getJSEnvironment = exports.isReactNative = void 0;\r\nvar JSRUNEnvirType;\r\n(function (JSRUNEnvirType) {\r\n    JSRUNEnvirType[JSRUNEnvirType["NODE_PC"] = 10] = "NODE_PC";\r\n    JSRUNEnvirType[JSRUNEnvirType["WEB_PC"] = 20] = "WEB_PC";\r\n    JSRUNEnvirType[JSRUNEnvirType["WEB_MOBILE"] = 26] = "WEB_MOBILE";\r\n    JSRUNEnvirType[JSRUNEnvirType["ELECTRON_PC"] = 40] = "ELECTRON_PC";\r\n    JSRUNEnvirType[JSRUNEnvirType["OTHER"] = 100] = "OTHER";\r\n})(JSRUNEnvirType || (JSRUNEnvirType = {}));\r\nexports.JSRUNEnvirType = JSRUNEnvirType;\r\nconst EnvirType = {\r\n    /**\r\n     * WIndow 浏览器 运行环境\r\n     */\r\n    WINDOWS: "win",\r\n    /**\r\n     * MAC 浏览器 运行环境\r\n     */\r\n    MACINTOSH: "mac",\r\n    /***\r\n     * Linux 浏览器 运行环境\r\n     */\r\n    LINUX: "linux",\r\n    /***\r\n     * ios 浏览器  运行环境\r\n     */\r\n    IOS: "iOS",\r\n    /**\r\n     * 安卓 浏览器 运行环境\r\n     */\r\n    ANDROID: "Android",\r\n    /**\r\n     * 黑莓 运行环境\r\n     */\r\n    BLACKBERRY: "bb",\r\n    /***\r\n     * Win iphone 运行环境\r\n     */\r\n    WINDOWS_PHONE: "winphone",\r\n    Other: \'other\'\r\n};\r\n/**\r\n * 是否为 rn 代码\r\n */\r\nfunction isReactNative() {\r\n    var GLOBAL;\r\n    try {\r\n        GLOBAL = window;\r\n    }\r\n    catch (error) {\r\n        GLOBAL = global || globalThis;\r\n    }\r\n    return (GLOBAL &&\r\n        GLOBAL.ReactNative &&\r\n        GLOBAL.ReactNative.NativeModules);\r\n}\r\nexports.isReactNative = isReactNative;\r\nfunction getJSEnvironment() {\r\n    if (navigator.userAgent) {\r\n        var userAgent = navigator.userAgent;\r\n        var platform, result;\r\n        const getDesktopOS = () => {\r\n            var pf = navigator.platform;\r\n            if (pf.indexOf("Win") != -1) {\r\n                // 说明当前是Windows操作系统\r\n                var rVersion = /Windows NT (\\d+).(\\d)/i;\r\n                var uaResult = userAgent.match(rVersion);\r\n                var sVersionStr = "";\r\n                if (uaResult[1] == "6") {\r\n                    if (uaResult[2] == 1) {\r\n                        sVersionStr = "7"; // 说明当前运行在Windows 7 中\r\n                    }\r\n                    else if (uaResult[2] > 1) {\r\n                        sVersionStr = "8"; // 说明当前运行在Windows 8 中\r\n                    }\r\n                }\r\n                else {\r\n                    sVersionStr = uaResult[1];\r\n                }\r\n                return { name: EnvirType.WINDOWS, versionStr: sVersionStr };\r\n            }\r\n            else if (pf.indexOf("Mac") != -1) {\r\n                return { name: EnvirType.MACINTOSH, versionStr: "" }; // Macintosh操作系统\r\n            }\r\n            else if (pf.indexOf("Linux") != -1) {\r\n                return { name: EnvirType.LINUX, versionStr: "" }; // 说明当前运行在Linux操作系统\r\n            }\r\n            return null;\r\n        };\r\n        platform = /Windows Phone (?:OS )?([\\d.]*)/; // windows phone的正则表达式\r\n        result = userAgent.match(platform);\r\n        if (result) {\r\n            return { name: EnvirType.WINDOWS_PHONE, versionStr: result[1] };\r\n        }\r\n        // BlackBerry 10\r\n        if (userAgent.indexOf("(BB10;") > 0) {\r\n            platform = /\\sVersion\\/([\\d.]+)\\s/; // BlackBerry的regular expression\r\n            result = userAgent.match(platform);\r\n            if (result) {\r\n                return { name: EnvirType.BLACKBERRY, versionStr: result[1] };\r\n            }\r\n            else {\r\n                return { name: EnvirType.BLACKBERRY, versionStr: "10" };\r\n            }\r\n        }\r\n        // iOS, Android, BlackBerry 6.0+:\r\n        platform =\r\n            /\\(([a-zA-Z ]+);\\s(?:[U]?[;]?)([\\D]+)((?:[\\d._]*))(?:.*[\\)][^\\d]*)([\\d.]*)\\s/;\r\n        result = userAgent.match(platform);\r\n        if (result) {\r\n            var appleDevices = /iPhone|iPad|iPod/;\r\n            var bbDevices = /PlayBook|BlackBerry/;\r\n            if (result[0].match(appleDevices)) {\r\n                result[3] = result[3].replace(/_/g, ".");\r\n                return { name: EnvirType.IOS, versionStr: result[3] }; // iOS操作系统\r\n            }\r\n            else if (result[2].match(/Android/)) {\r\n                result[2] = result[2].replace(/\\s/g, "");\r\n                return { name: EnvirType.ANDROID, versionStr: result[3] }; // Android操作系统\r\n            }\r\n            else if (result[0].match(bbDevices)) {\r\n                return { name: EnvirType.BLACKBERRY, versionStr: result[4] }; // Blackberry\r\n            }\r\n        }\r\n        //Android平台上的Firefox浏览器\r\n        platform = /\\((Android)[\\s]?([\\d][.\\d]*)?;.*Firefox\\/[\\d][.\\d]*/;\r\n        result = userAgent.match(platform);\r\n        if (result) {\r\n            return {\r\n                name: EnvirType.ANDROID,\r\n                versionStr: result.length == 3 ? result[2] : "",\r\n            };\r\n        }\r\n        // Desktop\r\n        return getDesktopOS();\r\n    }\r\n    else {\r\n        return { name: EnvirType.Other, versionStr: "" };\r\n    }\r\n}\r\nexports.getJSEnvironment = getJSEnvironment;\r\nvar currentEnir;\r\nexports.currentEnir = currentEnir;\r\nif ((globalThis || window).process) {\r\n    if ((globalThis || window) &&\r\n        (globalThis || window).process &&\r\n        (globalThis || window).process.versions &&\r\n        (globalThis || window).process.versions["electron"]) {\r\n        exports.currentEnir = currentEnir = JSRUNEnvirType.ELECTRON_PC;\r\n    }\r\n    else\r\n        exports.currentEnir = currentEnir = JSRUNEnvirType.NODE_PC;\r\n}\r\nelse {\r\n    const typeName = getJSEnvironment().name;\r\n    switch (typeName) {\r\n        case EnvirType.WINDOWS:\r\n            exports.currentEnir = currentEnir = JSRUNEnvirType.WEB_PC;\r\n            break;\r\n        case EnvirType.MACINTOSH:\r\n            exports.currentEnir = currentEnir = JSRUNEnvirType.WEB_PC;\r\n            break;\r\n        case EnvirType.IOS:\r\n            exports.currentEnir = currentEnir = JSRUNEnvirType.WEB_MOBILE;\r\n            break;\r\n        case EnvirType.ANDROID:\r\n            exports.currentEnir = currentEnir = JSRUNEnvirType.WEB_MOBILE;\r\n            break;\r\n        case EnvirType.LINUX:\r\n            exports.currentEnir = currentEnir = JSRUNEnvirType.WEB_PC;\r\n            break;\r\n        default:\r\n            exports.currentEnir = currentEnir = JSRUNEnvirType.OTHER;\r\n            break;\r\n    }\r\n}\r\nconst isWeb = currentEnir === JSRUNEnvirType.WEB_MOBILE || currentEnir === JSRUNEnvirType.WEB_PC;\r\nexports.isWeb = isWeb;\r\nconst isNode = currentEnir === JSRUNEnvirType.NODE_PC;\r\nexports.isNode = isNode;\r\nconst isElectron = currentEnir === JSRUNEnvirType.ELECTRON_PC;\r\nexports.isElectron = isElectron;\r\nconst isPC = currentEnir === JSRUNEnvirType.NODE_PC ||\r\n    currentEnir === JSRUNEnvirType.WEB_PC ||\r\n    currentEnir === JSRUNEnvirType.ELECTRON_PC;\r\nexports.isPC = isPC;\r\nconst isMobile = currentEnir === JSRUNEnvirType.WEB_MOBILE;\r\nexports.isMobile = isMobile;\r\nconst isJS = true;\r\nexports.isJS = isJS;\r\nconst PlatformSelect = (select) => {\r\n    let target;\r\n    if (isElectron) {\r\n        target = select.electron;\r\n    }\r\n    else if (isWeb) {\r\n        target = select.web;\r\n    }\r\n    else if (isNode) {\r\n        target = select.node;\r\n    }\r\n    return target;\r\n};\r\nexports.PlatformSelect = PlatformSelect;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Util/Equipment.ts?')},"./src/Util/channel-value-util.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.wrapperValue = exports.unpackValue = void 0;\r\nconst __1 = __webpack_require__(/*! .. */ "./src/index.ts");\r\nconst valueUtil_1 = __webpack_require__(/*! ../Object/valueUtil */ "./src/Object/valueUtil.ts");\r\n/**\r\n * 解包\r\n * @param value\r\n * @returns\r\n */\r\nconst unpackValue = (value) => {\r\n    if (!!value === false)\r\n        return "";\r\n    return value._value.value.valueOf();\r\n};\r\nexports.unpackValue = unpackValue;\r\n/**\r\n * 组合包装\r\n * @param input\r\n * @param value\r\n * @returns\r\n */\r\nfunction wrapperValue(input, value) {\r\n    const nextValue = (0, valueUtil_1.decide)(value);\r\n    return new __1.ObjectTarget({\r\n        ...(input._value),\r\n        value: nextValue,\r\n    });\r\n}\r\nexports.wrapperValue = wrapperValue;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Util/channel-value-util.ts?')},"./src/Works/ExtendsWorks/Base64Work.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.Base64EnCodeWork = exports.Base64DecodeWork = void 0;\r\nconst js_base64_1 = __webpack_require__(/*! js-base64 */ "js-base64");\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst Equipment_1 = __webpack_require__(/*! ../../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst channel_value_util_1 = __webpack_require__(/*! ../../Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\n//编码\r\nclass Base64EnCodeWork extends Instruction_1.InstructionMTM {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = "Base64EnCodeWork";\r\n    }\r\n    run(input) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            let target;\r\n            if (input === null || input === undefined)\r\n                target = \'\';\r\n            else {\r\n                target = (0, channel_value_util_1.unpackValue)(input);\r\n            }\r\n            subscriber.next((0, channel_value_util_1.wrapperValue)(input, js_base64_1.Base64.encode(target)));\r\n            subscriber.complete();\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n    }\r\n}\r\nexports.Base64EnCodeWork = Base64EnCodeWork;\r\n//解码\r\nclass Base64DecodeWork extends Instruction_1.InstructionMTM {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = "Base64DecodeWork";\r\n    }\r\n    run(input) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            let target;\r\n            if (input === null || input === undefined)\r\n                target = \'\';\r\n            else {\r\n                target = (0, channel_value_util_1.unpackValue)(input);\r\n            }\r\n            subscriber.next((0, channel_value_util_1.wrapperValue)(input, js_base64_1.Base64.decode(target)));\r\n            subscriber.complete();\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n    }\r\n}\r\nexports.Base64DecodeWork = Base64DecodeWork;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/Base64Work.ts?')},"./src/Works/ExtendsWorks/BeginWork.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.BeginWork = void 0;\r\nconst uuid_1 = __webpack_require__(/*! uuid */ "uuid");\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\nconst Equipment_1 = __webpack_require__(/*! ../../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst valueUtil_1 = __webpack_require__(/*! ../../Object/valueUtil */ "./src/Object/valueUtil.ts");\r\nclass BeginWork extends Instruction_1.InstructionOTO {\r\n    constructor() {\r\n        super();\r\n        this.name = "BeginWork";\r\n        this.uuid = (0, uuid_1.v4)();\r\n    }\r\n    // // 处理上一个的传入\r\n    // _connectChannel() {\r\n    //   const that = this;\r\n    //   // 处理启动指令 仅仅头部work会触发\r\n    //   var sub1: Subscription =\r\n    //     this.inputSubject\r\n    //       .pipe(\r\n    //         take(Infinity)\r\n    //       ).subscribe({\r\n    //         next: (value: BaseType) => that._run(value),\r\n    //         error: (error) => that.error(error),\r\n    //         complete: null,\r\n    //       })\r\n    //   this.inputSubscription = sub1;\r\n    //   this.pools.push(sub1);\r\n    // }\r\n    // _run(input?: BaseType, initOption?: any): void {\r\n    //   // this.nextWork?.next(input);\r\n    //   this.nextWork.next(input);\r\n    // }\r\n    /**\r\n     * 运行 头部\r\n     * @param value\r\n     */\r\n    startRun(value, runId) {\r\n        const id = runId ?? (0, uuid_1.v4)();\r\n        this.nextWork.next(new ObjectAble_1.ObjectTarget({\r\n            id,\r\n            value: (0, valueUtil_1.decide)(value),\r\n            option: {},\r\n        }));\r\n    }\r\n    completeOneLoop() { }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n    }\r\n}\r\nexports.BeginWork = BeginWork;\r\nBeginWork._id = 0;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/BeginWork.ts?')},"./src/Works/ExtendsWorks/FetchWork.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst Equipment_1 = __webpack_require__(/*! ../../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst __1 = __webpack_require__(/*! ../.. */ "./src/index.ts");\r\nconst operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");\r\nclass FetchWork extends Instruction_1.InstructionOTO {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = "FetchWork";\r\n    }\r\n    _getInitOption(input, baseOption) {\r\n        const initParams = input.valueOf();\r\n        const { url, method, timeout, data } = initParams;\r\n        const request = {\r\n            url,\r\n            method: initParams.method || baseOption.method || "GET",\r\n            timeout: timeout || baseOption.timeout || 10000,\r\n            headers: {\r\n                ...(baseOption.headers || {}),\r\n                ...(initParams.headers || {}),\r\n            },\r\n        };\r\n        request.data = data;\r\n        if (method.toLocaleUpperCase() === "GET") {\r\n            request.headers[\'Content-Type\'] = request.headers[\'Content-Type\'] || \'application/json\';\r\n        }\r\n        request.timeoutErrorMessage = \'请求超时\';\r\n        return request;\r\n    }\r\n    run(input, baseOption) {\r\n        const that = this;\r\n        const options = this._getInitOption(input._value.value, baseOption);\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            const fetchSub = that.context.platform.fetch(options)\r\n                .pipe((0, operators_1.tap)((result) => {\r\n                const { data } = result.valueOf();\r\n                this.logMsg(`[FetchWork][load:data]${data}`, input);\r\n            })).subscribe({\r\n                next: (data) => {\r\n                    const result = data.valueOf();\r\n                    if (result.error) {\r\n                        subscriber.error(result.error);\r\n                    }\r\n                    else {\r\n                        subscriber.next(new __1.ObjectTarget({\r\n                            ...input._value,\r\n                            value: result.data,\r\n                        }));\r\n                        subscriber.complete();\r\n                    }\r\n                },\r\n                error: (error) => subscriber.error(error),\r\n                complete: () => subscriber.complete(),\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    subscriber.unsubscribe();\r\n                    fetchSub.unsubscribe();\r\n                }\r\n            };\r\n        });\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n    }\r\n}\r\nexports["default"] = FetchWork;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/FetchWork.ts?')},"./src/Works/ExtendsWorks/LoadFileWork.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst Equipment_1 = __webpack_require__(/*! ../../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst ConfigTypes_1 = __webpack_require__(/*! ../../Bridge/ConfigTypes */ "./src/Bridge/ConfigTypes.ts");\r\nconst operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");\r\nconst channel_value_util_1 = __webpack_require__(/*! ../../Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\nclass LoadFileWork extends Instruction_1.InstructionOTO {\r\n    constructor(config) {\r\n        super();\r\n        this.name = "LoadFileWork";\r\n        this.currentConfig = { type: ConfigTypes_1.FileType.All };\r\n        this.currentConfig = config || { type: ConfigTypes_1.FileType.All };\r\n    }\r\n    run(input, option) {\r\n        const that = this;\r\n        const runOption = { ...(option), ...(this.currentConfig) };\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            const target = (0, channel_value_util_1.unpackValue)(input);\r\n            const sub = that.context.platform\r\n                .loadFile(target, runOption)\r\n                .pipe((0, operators_1.tap)((obj) => {\r\n                const { loaded, total, finish } = obj.valueOf();\r\n                this.logMsg(`加载进度[load:progress]---：${loaded}/${total} 是否完成：${finish}`, input);\r\n            }), (0, operators_1.takeLast)(1))\r\n                .subscribe({\r\n                next: (obj) => {\r\n                    const { data, file } = obj.valueOf();\r\n                    subscriber.next(new ObjectAble_1.ObjectTarget({\r\n                        ...input._value,\r\n                        value: new ObjectAble_1.DataObject(data),\r\n                        option: { file }\r\n                    }));\r\n                    subscriber.complete();\r\n                },\r\n                complete: () => subscriber.complete(),\r\n                error: (err) => subscriber.error(err),\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    sub.unsubscribe();\r\n                    subscriber.unsubscribe();\r\n                },\r\n            };\r\n        });\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n    }\r\n}\r\nexports["default"] = LoadFileWork;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/LoadFileWork.ts?')},"./src/Works/ExtendsWorks/OpenURLWork.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst Equipment_1 = __webpack_require__(/*! ../../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst channel_value_util_1 = __webpack_require__(/*! ../../Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\n/**\r\n * 打开路径\r\n * http://www.baidu.com\r\n * node window: file:///C:/Users/Administrator    file:///C:/Users/Administrator/Desktop/116513f379bd664b7cfe5b3b40f5737d.jpg\r\n *\r\n * node:可以打开文件 网页\r\n * web:只能代开网页\r\n */\r\nclass OpenURLWork extends Instruction_1.InstructionOTO {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = "OpenURLWork";\r\n    }\r\n    run(input, option) {\r\n        const that = this;\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            const target = (0, channel_value_util_1.unpackValue)(input);\r\n            const sub = that.context.platform\r\n                .open(target, option)\r\n                .subscribe({\r\n                next: _ => subscriber.next((0, channel_value_util_1.wrapperValue)(input, new ObjectAble_1.BooleanObject(true))),\r\n                complete: () => subscriber.complete(),\r\n                error: (err) => subscriber.error(err)\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    sub.unsubscribe();\r\n                    subscriber.unsubscribe();\r\n                },\r\n            };\r\n        });\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n    }\r\n}\r\nexports["default"] = OpenURLWork;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/OpenURLWork.ts?')},"./src/Works/ExtendsWorks/QRCodeWork.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.QRCodeWork = void 0;\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst Equipment_1 = __webpack_require__(/*! ../../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst channel_value_util_1 = __webpack_require__(/*! ../../Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\n/**\r\n * 字符串生产QRcode base64\r\n * input => StringObject\r\n * output => StringObject\r\n */\r\nclass QRCodeWork extends Instruction_1.InstructionOTO {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = "QRCodeWork";\r\n    }\r\n    run(input, option) {\r\n        const that = this;\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            let target;\r\n            if (input === null || input === undefined)\r\n                target = "";\r\n            else {\r\n                target = (0, channel_value_util_1.unpackValue)(input);\r\n            }\r\n            const sub = that.context.platform\r\n                .createQrCode(target, option)\r\n                .subscribe({\r\n                next: (res) => subscriber.next((0, channel_value_util_1.wrapperValue)(input, res)),\r\n                complete: () => subscriber.complete(),\r\n                error: (err) => subscriber.error(err),\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    sub.unsubscribe();\r\n                    subscriber.unsubscribe();\r\n                },\r\n            };\r\n        });\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n        // return isNode || isWeb || isRN\r\n    }\r\n}\r\nexports.QRCodeWork = QRCodeWork;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/QRCodeWork.ts?')},"./src/Works/ExtendsWorks/RunCommandWork.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst Equipment_1 = __webpack_require__(/*! ../../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst channel_value_util_1 = __webpack_require__(/*! ../../Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\n/**\r\n * "1 + $I$ "\r\n * @param template\r\n * @param input\r\n * @param option\r\n * @returns\r\n */\r\nfunction handleEvalCommand(template, input, option) {\r\n    const inputKey = option.input;\r\n    const command = template.replace(inputKey, input);\r\n    return command;\r\n}\r\n/**\r\n * 默认：\r\n * run javascript\r\n *\r\n * node:指定\r\n *  = "#javascript#console.log(\'hello world\')"\r\n *  = "#shell#echo hello world"\r\n */\r\nclass RunCommandWork extends Instruction_1.InstructionOTO {\r\n    constructor(template = \'$I$\') {\r\n        super();\r\n        this.template = \'\';\r\n        this.name = "RunCommandWork";\r\n        this.template = template;\r\n    }\r\n    run(command, option) {\r\n        const that = this;\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            const target = handleEvalCommand(that.template, (0, channel_value_util_1.unpackValue)(command), option);\r\n            const sub = that.context.platform\r\n                .runCommand(target)\r\n                .subscribe({\r\n                next: (info) => {\r\n                    this.logMsg(`执行command：${info.error ? \'失败\' : \'成功\'}。结果：${info.result}`, command);\r\n                    subscriber.next((0, channel_value_util_1.wrapperValue)(command, info.error ? undefined : info.result));\r\n                },\r\n                complete: () => subscriber.complete(),\r\n                error: (err) => subscriber.error(err)\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    sub.unsubscribe();\r\n                    subscriber.unsubscribe();\r\n                },\r\n            };\r\n        });\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n        // return isNode || isWeb || isRN || isElectron\r\n    }\r\n}\r\nexports["default"] = RunCommandWork;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/RunCommandWork.ts?')},"./src/Works/ExtendsWorks/UtilWork.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.DelayIntervalWork = exports.TimeoutWork = exports.IntervalWork = void 0;\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");\r\nconst __1 = __webpack_require__(/*! ../.. */ "./src/index.ts");\r\nconst channel_value_util_1 = __webpack_require__(/*! ../../Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\nconst Instruction_1 = __webpack_require__(/*! ../Instruction */ "./src/Works/Instruction.ts");\r\n// 一直发\r\nclass IntervalWork extends Instruction_1.InstructionOTM {\r\n    constructor(interval, max = Infinity, notifier) {\r\n        super();\r\n        this.name = "IntervalWork";\r\n        this.intervalTime = interval || 1000;\r\n        this.maxCount = max;\r\n        this.notifier = notifier || rxjs_1.NEVER;\r\n    }\r\n    run(input) {\r\n        const intervalTime = parseInt((0, channel_value_util_1.unpackValue)(input)) || this.intervalTime || 1000;\r\n        const that = this;\r\n        return new rxjs_1.Observable(observer => {\r\n            const sub = (0, rxjs_1.interval)(intervalTime, rxjs_1.asyncScheduler).pipe((0, operators_1.take)(that.maxCount), (0, operators_1.takeUntil)(this.notifier)).subscribe({\r\n                next: (value) => observer.next((0, channel_value_util_1.wrapperValue)(input, new __1.NumberObject(value))),\r\n                error: (error) => observer.error(error),\r\n                complete: () => observer.complete()\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    observer.unsubscribe();\r\n                    sub.unsubscribe();\r\n                }\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.IntervalWork = IntervalWork;\r\n// 定时发\r\nclass TimeoutWork extends Instruction_1.InstructionOTO {\r\n    constructor(interval) {\r\n        super();\r\n        this.name = "TimeoutWork";\r\n        this.intervalTime = interval || 1000;\r\n    }\r\n    run(input) {\r\n        const intervalTime = parseInt((0, channel_value_util_1.unpackValue)(input)) || this.intervalTime || 1000;\r\n        const that = this;\r\n        return new rxjs_1.Observable(observer => {\r\n            const sub = (0, rxjs_1.interval)(intervalTime, rxjs_1.asyncScheduler)\r\n                .pipe((0, operators_1.take)(1)).subscribe({\r\n                next: (value) => {\r\n                    observer.next((0, channel_value_util_1.wrapperValue)(input, new __1.NumberObject(value)));\r\n                },\r\n                error: (error) => observer.error(error),\r\n                complete: () => observer.complete()\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    observer.unsubscribe();\r\n                    sub.unsubscribe();\r\n                }\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.TimeoutWork = TimeoutWork;\r\n// 延迟 然后一直发\r\nclass DelayIntervalWork extends Instruction_1.InstructionOTM {\r\n    constructor(delay = 0, interval = 1000, max = Infinity, notifier) {\r\n        super();\r\n        this.name = \'DelayIntervalWork\';\r\n        this.intervalTime = interval || 1000;\r\n        this.maxCount = max;\r\n        this.delayTime = delay || 0;\r\n        this.notifier = notifier || rxjs_1.NEVER;\r\n    }\r\n    run(input) {\r\n        const intervalTime = parseInt((0, channel_value_util_1.unpackValue)(input)) || this.intervalTime || 1000;\r\n        const that = this;\r\n        return new rxjs_1.Observable(observer => {\r\n            const sub = (0, rxjs_1.timer)(that.delayTime, intervalTime, rxjs_1.asyncScheduler)\r\n                .pipe((0, operators_1.take)(that.maxCount), (0, operators_1.takeUntil)(this.notifier))\r\n                .subscribe({\r\n                next: (value) => observer.next((0, channel_value_util_1.wrapperValue)(input, new __1.NumberObject(value))),\r\n                error: (error) => observer.error(error),\r\n                complete: () => observer.complete()\r\n            });\r\n            return {\r\n                unsubscribe: () => {\r\n                    observer.unsubscribe();\r\n                    sub.unsubscribe();\r\n                }\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.DelayIntervalWork = DelayIntervalWork;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/ExtendsWorks/UtilWork.ts?')},"./src/Works/Instruction.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.InstructionMTM = exports.InstructionOTM = exports.InstructionOTO = exports.Instruction = void 0;\r\nconst rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");\r\nconst Equipment_1 = __webpack_require__(/*! ../Util/Equipment */ "./src/Util/Equipment.ts");\r\nconst operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");\r\nconst uuid_1 = __webpack_require__(/*! uuid */ "uuid");\r\nconst WorkUnit_1 = __webpack_require__(/*! ./WorkUnit */ "./src/Works/WorkUnit.ts");\r\nconst ObjectAble_1 = __webpack_require__(/*! ../Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nconst channel_value_util_1 = __webpack_require__(/*! ../Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\n/**\r\n * 一次输入---\x3e一次输出 InstructionOTO\r\n * 一次输入---\x3e多次输出 InstructionOTM\r\n * n次输入----\x3em次输出 InstructionMTM\r\n */\r\nclass Instruction extends rxjs_1.Subject {\r\n    constructor() {\r\n        super();\r\n        this.name = "Instruction";\r\n        this.id = Instruction._id++;\r\n        this.runSubscriptions = new Map();\r\n        this.pools = []; // 订阅自己的\r\n        // 运行配置 config:OPTION todo\r\n        this.config = { development: true };\r\n        this.uuid = (0, uuid_1.v4)();\r\n    }\r\n    // 连接上下通道\r\n    prepare(before, next) {\r\n        this.beforeWork = before;\r\n        this.nextWork = next;\r\n        this.config = this.context.runOptions;\r\n        this._connectChannel();\r\n        return Promise.resolve();\r\n    }\r\n    // 处理上一个的传入\r\n    _connectChannel() {\r\n        const that = this;\r\n        // // 处理数据\r\n        const sub2 = this\r\n            .pipe((0, operators_1.tap)((value) => {\r\n            this.config?.development &&\r\n                that.context?.sendLog({\r\n                    work: [that],\r\n                    content: this.context,\r\n                    desc: "[Work:preRun]->接受到数据",\r\n                    value: value,\r\n                });\r\n        }))\r\n            .subscribe({\r\n            complete: () => { },\r\n            error: (error) => that.error(error),\r\n            next: (value) => that._run(value),\r\n        });\r\n        this.pools.push(sub2);\r\n    }\r\n    _run(value) {\r\n        const sendLog = (desc, _value, _error) => {\r\n            that.config?.development &&\r\n                that.context?.sendLog({\r\n                    work: [that],\r\n                    content: this.context,\r\n                    desc: desc,\r\n                    value: _value || value,\r\n                    error: _error,\r\n                });\r\n        };\r\n        value = this.nextValue(value) || value;\r\n        const that = this;\r\n        const nextOption = (this.config?.workConfig || {})[this.name] || {};\r\n        const execFunc = (0, Equipment_1.PlatformSelect)({\r\n            web: () => (that.web_run ?? that.run).bind(that)(value, nextOption),\r\n            node: () => (that.node_run ?? that.run).bind(that)(value, nextOption),\r\n            electron: () => (that.electron_run ?? that.run).bind(that)(value, nextOption),\r\n            other: () => (that.run).bind(that)(value, nextOption)\r\n        });\r\n        sendLog("[Work][Func:run]->入口", value);\r\n        if (!execFunc === true)\r\n            return sendLog("[Work][Func:run]->没有实现run", value);\r\n        ;\r\n        const uuid = (0, uuid_1.v4)();\r\n        const runSub = execFunc(value)\r\n            .pipe((0, operators_1.tap)((_value) => sendLog("[Work][Func:run]->结果", _value)), (0, operators_1.observeOn)(rxjs_1.asyncScheduler))\r\n            .subscribe({\r\n            complete: () => {\r\n                const unit = that.runSubscriptions.get(uuid);\r\n                unit?.sub.unsubscribe();\r\n                that.runSubscriptions.delete(uuid);\r\n            },\r\n            error: (err) => {\r\n                sendLog("[Work][Func:run]->执行错误", value, err);\r\n                that.completeOneLoop(value, null, false);\r\n            },\r\n            next: (res) => {\r\n                sendLog("[Work][Func:run]->将执行下一个Work", res);\r\n                that.completeOneLoop(value, res, true);\r\n                that.nextWork?.next(res);\r\n            },\r\n        });\r\n        const unit = new WorkUnit_1.WorkUnit(that.context, that, runSub, uuid);\r\n        this.runSubscriptions.set(unit.uuid, unit);\r\n    }\r\n    stopWork() {\r\n        const that = this;\r\n        return new rxjs_1.Observable((subscribe) => {\r\n            that.runSubscriptions.forEach((value) => {\r\n                value?.sub.unsubscribe();\r\n            });\r\n            subscribe.next(true);\r\n            subscribe.complete();\r\n            return {\r\n                unsubscribe: () => subscribe.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n    clear() {\r\n        this.pools && this.pools.forEach(($1) => $1.unsubscribe());\r\n        this.pools.length = 0;\r\n        this.unsubscribe();\r\n    }\r\n    error(err) {\r\n        this.context &&\r\n            this.context.sendLog({\r\n                work: [this],\r\n                content: this.context,\r\n                desc: "[Work:preRun]-接受上一个消息错误",\r\n                date: new Date(),\r\n                value: new ObjectAble_1.StringObject(err.message),\r\n            });\r\n    }\r\n    addVariable(name, value) {\r\n        this.context && this.context.addVariable(this, name, value);\r\n    }\r\n    logMsg(msg, input) {\r\n        this.config?.development &&\r\n            this.context?.sendLog({\r\n                work: [this],\r\n                content: this.context,\r\n                desc: msg,\r\n                value: (0, channel_value_util_1.wrapperValue)(input, null),\r\n            });\r\n    }\r\n    //重写\r\n    next(value) {\r\n        if (this.closed === false) {\r\n            super.next(value);\r\n        }\r\n        else {\r\n            this.context.sendLog({\r\n                work: [this],\r\n                content: this.context,\r\n                desc: this.toString() + " 已经关闭",\r\n                value: (0, channel_value_util_1.wrapperValue)(value, null),\r\n            });\r\n        }\r\n    }\r\n    // 声明周期\r\n    // 处理输入的值\r\n    nextValue(input) { return input; }\r\n    completeOneLoop(input, toValue, success) { }\r\n    // 基础\r\n    toString() {\r\n        return `[${this.name}:${this.id}]`;\r\n    }\r\n    isAble() {\r\n        return this.__proto__.isAble();\r\n    }\r\n    static isAble() {\r\n        return Equipment_1.isJS;\r\n    }\r\n}\r\nexports.Instruction = Instruction;\r\nInstruction._id = 0;\r\nclass InstructionOTO extends Instruction {\r\n    nextValue(input) {\r\n        return input;\r\n    }\r\n    completeOneLoop(input, toValue, success) { }\r\n    run(input) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            subscriber.next(input);\r\n            subscriber.complete();\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.InstructionOTO = InstructionOTO;\r\nclass InstructionOTM extends Instruction {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = "MultipleInstruction";\r\n    }\r\n    nextValue(input) { return input; }\r\n    completeOneLoop(input, next, success) { }\r\n    run(input) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            // subscriber.next(input);\r\n            // 输出多次\r\n            subscriber.next(input);\r\n            subscriber.complete();\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.InstructionOTM = InstructionOTM;\r\nclass InstructionMTM extends Instruction {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = "MultipleInstruction";\r\n    }\r\n    nextValue(input) { return input; }\r\n    completeOneLoop(input, next, success) { }\r\n    run(input) {\r\n        return new rxjs_1.Observable((subscriber) => {\r\n            // subscriber.next(input);\r\n            // 输出多次\r\n            subscriber.next(input);\r\n            subscriber.complete();\r\n            return {\r\n                unsubscribe: () => subscriber.unsubscribe(),\r\n            };\r\n        });\r\n    }\r\n}\r\nexports.InstructionMTM = InstructionMTM;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/Instruction.ts?')},"./src/Works/WorkUnit.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.WorkUnit = void 0;\r\nconst uuid_1 = __webpack_require__(/*! uuid */ "uuid");\r\nclass WorkUnit {\r\n    constructor(context, work, sub, uuid) {\r\n        this.context = context;\r\n        this.work = work;\r\n        this.sub = sub;\r\n        this.uuid = uuid ?? (0, uuid_1.v4)();\r\n    }\r\n}\r\nexports.WorkUnit = WorkUnit;\r\n\n\n//# sourceURL=webpack://command-flow/./src/Works/WorkUnit.ts?')},"./src/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.decide = exports.isAbleType = exports.wrapperValue = exports.unpackValue = exports.FetchWork = exports.DelayIntervalWork = exports.TimeoutWork = exports.IntervalWork = exports.RunCommandWork = exports.QRCodeWork = exports.OpenURLWork = exports.LoadFileWork = exports.Base64EnCodeWork = exports.Base64DecodeWork = exports.InstructionOTO = exports.InstructionOTM = exports.InstructionMTM = exports.ControlFlow = exports.WorkType = exports.Context = exports.DataObject = exports.DateObject = exports.BooleanObject = exports.StringObject = exports.NumberObject = exports.SetObject = exports.MapObject = exports.ArrayObject = exports.ObjectTarget = void 0;\r\nconst ObjectAble_1 = __webpack_require__(/*! ./Object/Able/ObjectAble */ "./src/Object/Able/ObjectAble.ts");\r\nObject.defineProperty(exports, "ObjectTarget", ({ enumerable: true, get: function () { return ObjectAble_1.ObjectTarget; } }));\r\nObject.defineProperty(exports, "ArrayObject", ({ enumerable: true, get: function () { return ObjectAble_1.ArrayObject; } }));\r\nObject.defineProperty(exports, "MapObject", ({ enumerable: true, get: function () { return ObjectAble_1.MapObject; } }));\r\nObject.defineProperty(exports, "SetObject", ({ enumerable: true, get: function () { return ObjectAble_1.SetObject; } }));\r\nObject.defineProperty(exports, "NumberObject", ({ enumerable: true, get: function () { return ObjectAble_1.NumberObject; } }));\r\nObject.defineProperty(exports, "StringObject", ({ enumerable: true, get: function () { return ObjectAble_1.StringObject; } }));\r\nObject.defineProperty(exports, "BooleanObject", ({ enumerable: true, get: function () { return ObjectAble_1.BooleanObject; } }));\r\nObject.defineProperty(exports, "DateObject", ({ enumerable: true, get: function () { return ObjectAble_1.DateObject; } }));\r\nObject.defineProperty(exports, "DataObject", ({ enumerable: true, get: function () { return ObjectAble_1.DataObject; } }));\r\nconst Types_1 = __webpack_require__(/*! ./Types */ "./src/Types.ts");\r\nObject.defineProperty(exports, "WorkType", ({ enumerable: true, get: function () { return Types_1.WorkType; } }));\r\nconst Control_1 = __webpack_require__(/*! ./Object/Control */ "./src/Object/Control.ts");\r\nObject.defineProperty(exports, "ControlFlow", ({ enumerable: true, get: function () { return Control_1.ControlFlow; } }));\r\nconst Context_1 = __webpack_require__(/*! ./Context */ "./src/Context.ts");\r\nObject.defineProperty(exports, "Context", ({ enumerable: true, get: function () { return Context_1.Context; } }));\r\nconst Instruction_1 = __webpack_require__(/*! ./Works/Instruction */ "./src/Works/Instruction.ts");\r\nObject.defineProperty(exports, "InstructionMTM", ({ enumerable: true, get: function () { return Instruction_1.InstructionMTM; } }));\r\nObject.defineProperty(exports, "InstructionOTM", ({ enumerable: true, get: function () { return Instruction_1.InstructionOTM; } }));\r\nObject.defineProperty(exports, "InstructionOTO", ({ enumerable: true, get: function () { return Instruction_1.InstructionOTO; } }));\r\nconst Base64Work_1 = __webpack_require__(/*! ./Works/ExtendsWorks/Base64Work */ "./src/Works/ExtendsWorks/Base64Work.ts");\r\nObject.defineProperty(exports, "Base64DecodeWork", ({ enumerable: true, get: function () { return Base64Work_1.Base64DecodeWork; } }));\r\nObject.defineProperty(exports, "Base64EnCodeWork", ({ enumerable: true, get: function () { return Base64Work_1.Base64EnCodeWork; } }));\r\nconst LoadFileWork_1 = __webpack_require__(/*! ./Works/ExtendsWorks/LoadFileWork */ "./src/Works/ExtendsWorks/LoadFileWork.ts");\r\nexports.LoadFileWork = LoadFileWork_1.default;\r\nconst OpenURLWork_1 = __webpack_require__(/*! ./Works/ExtendsWorks/OpenURLWork */ "./src/Works/ExtendsWorks/OpenURLWork.ts");\r\nexports.OpenURLWork = OpenURLWork_1.default;\r\nconst QRCodeWork_1 = __webpack_require__(/*! ./Works/ExtendsWorks/QRCodeWork */ "./src/Works/ExtendsWorks/QRCodeWork.ts");\r\nObject.defineProperty(exports, "QRCodeWork", ({ enumerable: true, get: function () { return QRCodeWork_1.QRCodeWork; } }));\r\nconst FetchWork_1 = __webpack_require__(/*! ./Works/ExtendsWorks/FetchWork */ "./src/Works/ExtendsWorks/FetchWork.ts");\r\nexports.FetchWork = FetchWork_1.default;\r\nconst RunCommandWork_1 = __webpack_require__(/*! ./Works/ExtendsWorks/RunCommandWork */ "./src/Works/ExtendsWorks/RunCommandWork.ts");\r\nexports.RunCommandWork = RunCommandWork_1.default;\r\nconst UtilWork_1 = __webpack_require__(/*! ./Works/ExtendsWorks/UtilWork */ "./src/Works/ExtendsWorks/UtilWork.ts");\r\nObject.defineProperty(exports, "IntervalWork", ({ enumerable: true, get: function () { return UtilWork_1.IntervalWork; } }));\r\nObject.defineProperty(exports, "TimeoutWork", ({ enumerable: true, get: function () { return UtilWork_1.TimeoutWork; } }));\r\nObject.defineProperty(exports, "DelayIntervalWork", ({ enumerable: true, get: function () { return UtilWork_1.DelayIntervalWork; } }));\r\nconst channel_value_util_1 = __webpack_require__(/*! ./Util/channel-value-util */ "./src/Util/channel-value-util.ts");\r\nObject.defineProperty(exports, "unpackValue", ({ enumerable: true, get: function () { return channel_value_util_1.unpackValue; } }));\r\nObject.defineProperty(exports, "wrapperValue", ({ enumerable: true, get: function () { return channel_value_util_1.wrapperValue; } }));\r\nconst valueUtil_1 = __webpack_require__(/*! ./Object/valueUtil */ "./src/Object/valueUtil.ts");\r\nObject.defineProperty(exports, "isAbleType", ({ enumerable: true, get: function () { return valueUtil_1.isAbleType; } }));\r\nObject.defineProperty(exports, "decide", ({ enumerable: true, get: function () { return valueUtil_1.decide; } }));\r\n// 1\r\n\n\n//# sourceURL=webpack://command-flow/./src/index.ts?')},axios:e=>{"use strict";e.exports=require("axios")},"js-base64":e=>{"use strict";e.exports=require("js-base64")},open:e=>{"use strict";e.exports=require("open")},"qrcode-generator":e=>{"use strict";e.exports=require("qrcode-generator")},rxjs:e=>{"use strict";e.exports=require("rxjs")},"rxjs/operators":e=>{"use strict";e.exports=require("rxjs/operators")},uuid:e=>{"use strict";e.exports=require("uuid")},child_process:e=>{"use strict";e.exports=require("child_process")},fs:e=>{"use strict";e.exports=require("fs")}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}var __webpack_exports__=__webpack_require__("./src/index.ts");module.exports=__webpack_exports__})();